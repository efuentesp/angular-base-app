




			<div class="x_panel">
				<div class="x_title">
				<h2>Afiliado <small>Agregar Afiliado</small></h2>
				<ul class="nav navbar-right panel_toolbox">
					<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</li>
				</ul>
				<div class="clearfix"></div>
				</div>
				<div class="x_content">

					<!-- start form for validation -->
					<form #afiliadoForm="ngForm" id="afiliadoForm" class="form-horizontal form-label-left" data-parsley-validate>
						
						<input class="form-control" #afiliadoId="ngModel" afiliadoId="afiliadoId" name="afiliadoId" type="hidden" [(ngModel)]="afiliado.afiliadoId">

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12" for="fecha_afiliacion">Fecha_afiliacion * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #fecha_afiliacion="ngModel" id="fecha_afiliacion" name="fecha_afiliacion" type="text" [(ngModel)]="afiliado.fecha_afiliacion" required>
						</div>
						</div>

						<div class="form-group">	
						<label class="control-label col-md-3 col-sm-3 col-xs-12" for="foto">Foto * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #foto="ngModel" id="foto" name="foto" type="text"  [(ngModel)]="afiliado.foto" required>
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12" for="correo">Correo * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #correo="ngModel" id="correo" name="correo" type="email" [(ngModel)]="afiliado.correo" required>
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12" for="apellido_materno">Apellido_materno * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #apellido_materno="ngModel" id="apellido_materno" name="apellido_materno" type="text" [(ngModel)]="afiliado.apellido_materno" required>
						</div>
						</div>	

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12" for="acta_nacimiento">Acta_nacimiento * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #acta_nacimiento="ngModel" id="acta_nacimiento" name="acta_nacimiento" type="text" [(ngModel)]="afiliado.acta_nacimiento" required>
						</div>
						</div>	

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="monto_pension">Monto_pension * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #monto_pension="ngModel" required id="monto_pension" name="monto_pension" type="text" [(ngModel)]="afiliado.monto_pension">
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="apellido_paterno">Apellido_paterno * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #apellido_paterno="ngModel" required id="apellido_paterno" name="apellido_paterno" type="text" [(ngModel)]="afiliado.apellido_paterno">
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="observaciones">Observaciones * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<textarea class="form-control col-md-7 col-xs-12" #observaciones="ngModel" required="required"  data-parsley-trigger="keyup" data-parsley-minlength="20" data-parsley-maxlength="100" data-parsley-minlength-message="Come on! You need to enter at least a 20 caracters long comment.." data-parsley-validation-threshold="10" id="observaciones" name="observaciones" type="text" [(ngModel)]="afiliado.observaciones"></textarea>
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="nombre">Nombre * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #nombre="ngModel" required id="nombre" name="nombre" type="text" [(ngModel)]="afiliado.nombre">
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="semanas_cotizadas">Semanas_cotizadas * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #semanas_cotizadas="ngModel" required id="semanas_cotizadas" name="semanas_cotizadas" type="text" [(ngModel)]="afiliado.semanas_cotizadas">
						</div>
						</div>

						<div class="form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-12"  for="nss">Nss * :</label>
						<div class="col-md-6 col-sm-6 col-xs-12">
						<input class="form-control col-md-7 col-xs-12" #nss="ngModel" required id="nss" name="nss" type="text" [(ngModel)]="afiliado.nss">
						</div>
						</div>

						<div class="form-group">
							<label class="control-label col-md-3 col-sm-3 col-xs-12" for="genero">Genero: <span class="required">*</span>
							</label>
							<div class="col-md-6 col-sm-6 col-xs-12">
								<input type="radio" value="female"     name="genero" [(ngModel)]="afiliado.generoId" /> Female <br/>		
								<input type="radio" value="male"       name="genero" [(ngModel)]="afiliado.generoId" /> Male <br/>
							</div>
						</div>

						<div class="form-group">
							<label  class="control-label col-md-3 col-sm-3 col-xs-12" for="beneficiario">Beneficiario * :</label>
							<div class="col-md-6 col-sm-6 col-xs-12">
								<div class="col-sm-6">
									<div class="input-group">
										<input type="text" class="form-control" placeholder="Beneficiario..." value={{beneficiarioNombre}}>
										<input type="hidden" class="form-control"  name="beneficiarioId"  [(ngModel)]="afiliado.beneficiarioId" #beneficiarioId="ngModel">
										<span class="input-group-btn">
											<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalBeneficiario"><em class="fa fa-search"></em></button>
										</span>
									</div>
								</div>
							</div>
						</div>

						<div class="ln_solid"></div>
						<div class="col-sm-12">
							<div class="input-group">
							<div *ngIf="flag">	
							<button class="btn btn-danger" (click)="delete(afiliadoForm)"><span style="margin-right:10px;"  class="fa fa-trash"></span>Eliminar</button>
							<button class="btn btn-primary" (click)="save(afiliadoForm)"><span style="margin-right:10px;"  class="fa fa-save"></span>Modificar</button>
							<button class="btn btn-default" (click)="return(afiliadoForm)"> <span style="margin-right:10px;"  class="fa fa-arrow-left"></span> Regresar</button>
							</div>
							<div *ngIf="!flag">
							<button class="btn btn-primary" (click)="save(afiliadoForm)"><span style="margin-right:10px;"  class="fa fa-save"></span>Agregar</button>
							<button class="btn btn-default" (click)="return(afiliadoForm)"> <span style="margin-right:10px;"  class="fa fa-arrow-left"></span> Regresar</button>
							</div>
							</div>
						</div>

					</form>
					
					<!-- end form for validation -->

				</div>
			</div>


<!-- Modal beneficiario -->
<div id="modalBeneficiario" class="modal fade"  role="dialog" data-backdrop="false" style="background: rgba(0, 0, 0, 0.31);">
		<div class="modal-dialog" style="width:60%">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Beneficiario</h4>
				</div>
				<div class="modal-body">
					
					
					<div class='row'>
						<div class="col-lg-6">
							<br/>
						</div>
						<div class="col-lg-6">
							<div class="input-group">
								<input type="text" class="form-control" placeholder="Search for..." name="busquedabeneficiario" [(ngModel)]="busquedaBeneficiario">
								<span class="input-group-btn">
									<button class="btn btn-secondary" type="button"><em class="fa fa-search"></em></button>
								</span>
							</div>
						</div>
					</div>
					
	
					<div class="row">
					
						
					<table class="datatable" class="table table-striped table-bordered">
							<thead>
								<tr>
											<th>Apellido_materno</th>
											<th>Curp</th>
											<th>Fecha_nacimiento</th>
											<th>Parentesco</th>
											<th>Nombre</th>
											<th>Apellido_paterno</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let beneficiario of beneficiarioList | filterBeneficiario: busquedaBeneficiario | paginate: {itemsPerPage: 10, currentPage:page, id: '1'}; let i = index" data-dismiss="modal" (click)="setClickedRowBeneficiario(i, beneficiario)" >
													<td>{{beneficiario.apellido_materno}}</td>
													<td>{{beneficiario.curp}}</td>
													<td>{{beneficiario.fecha_nacimiento}}</td>
													<td>{{beneficiario.parentescoId}}</td>
													<td>{{beneficiario.nombre}}</td>
													<td>{{beneficiario.apellido_paterno}}</td>
								</tr>
							</tbody>
						</table>
						
							<div align="center" style="margin-top:15px;">
								<pagination-controls (pageChange)="page = $event" id="1" maxSize="10" directionLinks="true" autoHide="false" previousLabel="<"
									nextLabel=">" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page">
								</pagination-controls>
							</div>
						
						<div class="row">
							<div class="text-right" style="padding-right:40px">
								<button type="button" class="btn btn-default" data-dismiss="modal">Regresar</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>



